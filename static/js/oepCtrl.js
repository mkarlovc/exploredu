var app = angular.module('oepApp', []);
app.controller('oepCtrl', function($scope) {
	var researchers = [{"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Milan", "field": "Computer science and informatics", "mstid": "17876", "fname": "Zorman", "id": "10147"}, {"science": "Engineering sciences and technologies", "subfield": "", "lname": "Aleks", "field": "Computer science and informatics", "mstid": "20225", "fname": "Jakulin", "id": "12139"}, {"science": "Engineering sciences and technologies", "subfield": "", "lname": "Gregor", "field": "Computer science and informatics", "mstid": "23398", "fname": "Leban", "id": "16560"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Maja", "field": "Computer science and informatics", "mstid": "21346", "fname": "\u0160krjanc", "id": "13263"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Bernard", "field": "Computer science and informatics", "mstid": "22279", "fname": "\u017denko", "id": "15189"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Sa\u0161o", "field": "Computer science and informatics", "mstid": "11130", "fname": "D\u017eeroski", "id": "7251"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Dorian", "field": "Computer science and informatics", "mstid": "15754", "fname": "\u0160uc", "id": "9012"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Peter", "field": "Computer science and informatics", "mstid": "21352", "fname": "Juvan", "id": "13269"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Toma\u017e", "field": "Computer science and informatics", "mstid": "23399", "fname": "Curk", "id": "16561"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Janez", "field": "Computer science and informatics", "mstid": "16324", "fname": "Dem\u0161ar", "id": "9383"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Igor", "field": "Computer science and informatics", "mstid": "04242", "fname": "Kononenko", "id": "5066"}, {"science": "Engineering sciences and technologies", "subfield": "", "lname": "Tatjana", "field": "Computer science and informatics", "mstid": "04547", "fname": "Zrimec", "id": "5163"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Ivan", "field": "Computer science and informatics", "mstid": "02275", "fname": "Bratko", "id": "4496"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Martin", "field": "Computer science and informatics", "mstid": "23582", "fname": "\u017dnidar\u0161i\u010d", "id": "16752"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Dunja", "field": "Computer science and informatics", "mstid": "12570", "fname": "Mladeni\u0107", "id": "7778"}, {"science": "Engineering sciences and technologies", "subfield": "Programming technologies - software", "lname": "Andra\u017e", "field": "Computer science and informatics", "mstid": "20242", "fname": "Be\u017eek", "id": "12156"}, {"science": "Engineering sciences and technologies", "subfield": "Biomedical technics", "lname": "Bo\u017eidar", "field": "Systems and cybernetics", "mstid": "15801", "fname": "Poto\u010dnik", "id": "9049"}, {"science": "Medical sciences", "subfield": "", "lname": "Dragica", "field": "Neurobiology", "mstid": "16239", "fname": "Smrke", "id": "9321"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Matja\u017e", "field": "Computer science and informatics", "mstid": "14565", "fname": "Kukar", "id": "8453"}, {"science": "Engineering sciences and technologies", "subfield": "", "lname": "Marko", "field": "Computer science and informatics", "mstid": "02749", "fname": "Bohanec", "id": "4618"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Damjan", "field": "Computer science and informatics", "mstid": "08952", "fname": "Bojad\u017eiev", "id": "6592"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Janez", "field": "Computer science and informatics", "mstid": "22278", "fname": "Brank", "id": "15188"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Bojan", "field": "Computer science and informatics", "mstid": "05806", "fname": "Cestnik", "id": "5565"}, {"science": "Engineering sciences and technologies", "subfield": "Metallic materials", "lname": "Neda", "field": "Materials science and technology", "mstid": "07704", "fname": "Karba", "id": "6162"}, {"science": "Natural sciences and mathematics", "subfield": "Algorithms", "lname": "Branko", "field": "Computer intensive methods and applications", "mstid": "20243", "fname": "Kav\u0161ek", "id": "12157"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Aleksander", "field": "Computer science and informatics", "mstid": "20389", "fname": "Sadikov", "id": "12278"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Tanja", "field": "Computer science and informatics", "mstid": "04586", "fname": "Urban\u010di\u010d", "id": "5179"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Marko", "field": "Computer science and informatics", "mstid": "15295", "fname": "Robnik \u0160ikonja", "id": "8741"}, {"science": "Engineering sciences and technologies", "subfield": "", "lname": "Zoran", "field": "Textile and leather", "mstid": "05534", "fname": "Stjepanovi\u010d", "id": "5476"}, {"science": "Engineering sciences and technologies", "subfield": "Computer integrated construction of objects", "lname": "Vlado", "field": "Civil engineering", "mstid": "19728", "fname": "Stankovski", "id": "11737"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Bla\u017e", "field": "Computer science and informatics", "mstid": "12536", "fname": "Zupan", "id": "7764"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Bogdan", "field": "Computer science and informatics", "mstid": "05026", "fname": "Filipi\u010d", "id": "5301"}, {"science": "Engineering sciences and technologies", "subfield": "", "lname": "Igor", "field": "Computer science and informatics", "mstid": "03323", "fname": "Mozeti\u010d", "id": "4773"}, {"science": "Engineering sciences and technologies", "subfield": "Textile-mechanical processes", "lname": "Simona", "field": "Textile and leather", "mstid": "13714", "fname": "Jev\u0161nik", "id": "8177"}, {"science": "Engineering sciences and technologies", "subfield": "Intelligent systems - software", "lname": "Nada", "field": "Computer science and informatics", "mstid": "08949", "fname": "Lavra\u010d", "id": "6590"}];
	var projects = [{"startdate": "1.1.1999", "mstid": "J2-1147", "enddate": "30.6.2001", "name": "Reflection in machine learning"}, {"startdate": "1.7.1998", "mstid": "L2-0461", "enddate": "30.6.2001", "name": "Razvoj sistema digitalnega zalo\u017eni\u0161tva s podporo u\u010denju na daljavo (Slovene)"}, {"startdate": "1.7.1998", "mstid": "J2-0815", "enddate": "30.6.2001", "name": "Sinteza znanja iz podatkov in predznanja (Slovene)"}, {"startdate": "1.1.1997", "mstid": "J2-9076", "enddate": "31.12.1999", "name": "Methods for developing hirarchical models"}, {"startdate": "1.7.2001", "mstid": "Z2-3042", "enddate": "30.6.2003", "name": "Cost sensitive intelligent data analysis"}, {"startdate": "1.1.2007", "mstid": "Z2-9684", "enddate": "31.12.2008", "name": "intelligent GRID routing and scheduling [iGRIDras]"}, {"startdate": "1.7.2001", "mstid": "J2-3387", "enddate": "30.6.2004", "name": "Knowledge discovery methods for functional genomics"}, {"startdate": "1.2.2008", "mstid": "J2-0734", "enddate": "30.1.2011", "name": "Advanced machine learning methods for automated modelling of dynamic systems"}, {"startdate": "1.1.1999", "mstid": "J2-1313", "enddate": "30.6.2001", "name": "Analysis of large text datasets"}, {"startdate": "1.5.2009", "mstid": "J2-2194", "enddate": "30.4.2012", "name": "Kvalitativno modeliranje na osnovi podatkov (Slovene)"}, {"startdate": "1.1.1997", "mstid": "L2-9068", "enddate": "31.12.1999", "name": "Modelling and optimising human skill in controlling dynamic systems"}, {"startdate": "1.7.2004", "mstid": "L2-6193", "enddate": "30.6.2006", "name": "A model for on-line selection of roughing parameters of the EDM process"}, {"startdate": "1.1.2007", "mstid": "J2-9180", "enddate": "31.12.2009", "name": "Linguistic annotation of Slovene language: methods and resources"}, {"startdate": "1.1.1997", "mstid": "L2-8732", "enddate": "31.12.1999", "name": "Inductive logic programming"}, {"startdate": "1.8.2013", "mstid": "J2-5480", "enddate": "31.7.2016", "name": "Conquering the Curse of Dimensionality by Using Background Knowledge"}, {"startdate": "1.7.2001", "mstid": "J3-3085", "enddate": "30.6.2004", "name": "Machine learning in coronary artery disease stepwise diagnostic process"}, {"startdate": "1.7.2014", "mstid": "J5-6817", "enddate": "30.6.2017", "name": "Development and evaluation automation of survey questionnaire"}, {"startdate": "1.7.2011", "mstid": "J2-4222", "enddate": "30.6.2014", "name": "Machine learning for building intelligent tutoring systems"}, {"startdate": "1.7.2001", "mstid": "L3-3441", "enddate": "30.6.2004", "name": "The importance of biarticular complex in prevention of acetabular protrusion"}, {"startdate": "1.5.2009", "mstid": "J2-2285", "enddate": "30.4.2012", "name": "Podatkovno rudarjenje za integrativno analizo podatkov v sistemski biologiji (Slovene)"}, {"startdate": "1.9.2005", "mstid": "L2-7298", "enddate": "31.8.2008", "name": "An intelligent system for condition monitoring of rotating machinery"}, {"startdate": "1.7.2004", "mstid": "J1-6549", "enddate": "30.6.2007", "name": "Identification of the anomalies in radon transport caused by seismic activity"}, {"startdate": "1.7.2014", "mstid": "L2-6765", "enddate": "30.6.2017", "name": "Maintenance of large databases based on visual information using incremental learning"}, {"startdate": "1.5.2010", "mstid": "J2-3607", "enddate": "30.4.2013", "name": "Learning a large number of visual object categories for content-based retrieval in image and video databases"}, {"startdate": "1.7.2004", "mstid": "L2-6575", "enddate": "30.6.2007", "name": "Processing lidar data (Development and usage of algorithms for mapping and estimation of forest stand biomass and structure using lidar and digital multispectral imagery)"}, {"startdate": "1.7.2004", "mstid": "Z2-6398", "enddate": "30.6.2006", "name": "Application of evolutionary models to assure fault-tolerance in embedded systems"}, {"startdate": "1.2.2008", "mstid": "L2-0221", "enddate": "30.1.2011", "name": "Hybrid adaptive control of process of milling by end milling cutter"}, {"startdate": "1.2.2008", "mstid": "Z5-0015", "enddate": "30.1.2010", "name": "Development and implementation of decision support system in the ordering process of the purchasing logistics"}, {"startdate": "1.8.2013", "mstid": "J7-5460", "enddate": "31.7.2016", "name": "Post-transcriptional regulatory networks in neurodegenerative diseases."}, {"startdate": "1.7.2011", "mstid": "J5-4177", "enddate": "30.6.2014", "name": "Information-communication technologies and transformation of survey research in social sciences"}, {"startdate": "1.10.2011", "mstid": "V4-1143", "enddate": "31.3.2014", "name": "Indicators of conservation status and measures for sustaining favorable conservation statuses of species and habitat types in the Natura 2000 forestlands"}, {"startdate": "1.2.2008", "mstid": "J6-0145", "enddate": "30.1.2011", "name": "'EthnoCatalogue: creating semantic descriptions of Slovene folk song and music based on melodic and metro-rhythmic analysis"}, {"startdate": "1.7.2011", "mstid": "L6-4193", "enddate": "30.6.2013", "name": "Terminolo\u0161ke baze podatkov kot osnova strokovnih znanj: model za sistematizacijo terminologij (Slovene)"}, {"startdate": "1.5.2011", "mstid": "Z7-4083", "enddate": "31.7.2014", "name": "Language technologies for detecting the author's personal profile"}, {"startdate": "1.1.2007", "mstid": "J1-9438", "enddate": "31.12.2009", "name": "Functional genomics of the complex regulatory network of cholesterol homeostasis"}, {"startdate": "1.7.2014", "mstid": "J6-6842", "enddate": "30.6.2017", "name": "Resources, Tools and Methods for the Research of Nonstandard Internet Slovene"}, {"startdate": "1.10.2014", "mstid": "L6-6852", "enddate": "30.9.2017", "name": "Landscape diversity and hotspots of Slovenia"}, {"startdate": "1.8.2013", "mstid": "L7-5554", "enddate": "31.7.2016", "name": "Development of models for intelligent management of road transports"}, {"startdate": "1.8.2013", "mstid": "J5-5538", "enddate": "31.7.2016", "name": "Methodology of social research within the context of e-social science"}];
	var organizations = [{"city": "Ljubljana", "name": "Institute of Ecology", "science": ""}, {"city": "Ljubljana", "name": "Institute for Contemporary History", "science": ""}, {"city": "Brezovica pri Ljubljani", "name": "INSTITUTE OF PERSONALITY PSYCHOLOGY", "science": ""}, {"city": "Ljubljana", "name": "Slovenian Forestry Institute", "science": ""}, {"city": "Ljubljana", "name": "Institute of Public Administration", "science": ""}, {"city": "Ljubljana", "name": "Institute Ekvilib, institute for culture of mind and body", "science": "Social sciences"}, {"city": "Ljubljana", "name": "Institute of orthodontics and maxilofacial orthopaedics", "science": ""}, {"city": "Ljubljana", "name": "Slovenian Institute for Adult Education", "science": ""}, {"city": "Ljubljana", "name": "Institute of Criminology at the Faculty of Law", "science": ""}, {"city": "Maribor", "name": "IRP Institute for Entrepreneur Research", "science": ""}, {"city": "Ljubljana", "name": "NATIONAL EDUCATION INSTITUTE OF SLOVENIA", "science": ""}, {"city": "Ljubljana", "name": "SECLI - INSTITUTE, SouthEast Europen Comparative Law Institute, Ljubljana", "science": "Social sciences"}, {"city": "Ljubljana", "name": "Social Protection Institute of the Republic of Slovenia", "science": ""}, {"city": "Ljubljana", "name": "Institute for Labour Law at Faculty of Law, Ljubljana", "science": ""}, {"city": "Ljubljana", "name": "Peace Institute", "science": "Social sciences"}, {"city": "Ljubljana", "name": "Institute for Development and Strategic Analysis", "science": "Social sciences"}, {"city": "Ljubljana", "name": "Institute of Oncology Ljubljana", "science": "Medical sciences"}, {"city": "Ljubljana", "name": "Institute for Sustainable Development", "science": "Biotechnical sciences"}, {"city": "Ljubljana", "name": "IN\u0160TITUT ZA INTELEKTUALNO LASTNINO INTELLECTUAL PROPERTY INSTITUTE (Slovene)", "science": ""}, {"city": "Ljubljana", "name": "Franciscan Family Institute", "science": "Social sciences"}, {"city": "Maribor", "name": "Institute of Agriculture", "science": "Biotechnical sciences"}, {"city": "Ljubljana", "name": "Institute for Comparative Law Studies, Faculty of Law, University of Ljubljana", "science": ""}, {"city": "Celovec, Avstrija", "name": "The Vrban Jarnik Slovene Ethnographic Institute", "science": "Humanities"}, {"city": "Ljubljana", "name": "NUTRITION INSTITUTE", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Urban planning Institute of the Republic of Slovenia", "science": "Social sciences"}, {"city": "Ljubljana", "name": "Institute for hydraulic research", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "International Tourism Institute at the National Tourist Association", "science": "Social sciences"}, {"city": "Celje", "name": "Institute of Environmental and Spatial Planning", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Institute for Ethnic Studies", "science": "Social sciences"}, {"city": "Ljubljana", "name": "IGMAT Institute for Building Materials", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "Agricultural institute of Slovenia", "science": "Biotechnical sciences"}, {"city": "Ljubljana", "name": "Institute of Civilisation and culture, ICC", "science": "Humanities"}, {"city": "Ljubljana", "name": "Biomedical Research InStitute", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "INSTITUTE FOR MARKET AND MEDIA RESEARCH MEDIANA D.O.O.", "science": "Social sciences"}, {"city": "LJUBLJANA", "name": "Nova revija - Institute of Humanist Studies", "science": "Humanities"}, {"city": "Ljubljana", "name": "Institute for Economic Research", "science": "Social sciences"}, {"city": "Maribor", "name": "ZUM Ltd. Town Planning Institute", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "ENERGY INSTITUTE", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "Educational Research Institute", "science": "Social sciences"}, {"city": "Ljubljana", "name": "ITEO Management Consulting Institute", "science": "Social sciences"}, {"city": "Ljubljana - Polje", "name": "Institute of Occupational Safety", "science": "Natural sciences and mathematics"}, {"city": "Begunje na Gorenjskem", "name": "STROJ - ENERGY RESEARCH INSTITUTE", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Institute of New Media Art and Electronic Literature", "science": "Humanities"}, {"city": "Ljubljana", "name": "Institute for Research in Materials and Aplications", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "Jo\u017eef Stefan Institute", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Institute for development of Family Medicine", "science": "Medical sciences"}, {"city": "Ljubljana", "name": "International Consumer Research Institute", "science": "Natural sciences and mathematics"}, {"city": "Maribor", "name": "Ecological Engineering Institute", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "INSTITUTE OF OCCUPATIONAL AND ENVIRONMENTL HYGIENE", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Institute for Innovative Arts Research", "science": "Social sciences"}, {"city": "Ljubljana", "name": "Institute fro Criminal-Law Ethics and Criminology", "science": "Social sciences"}, {"city": "Ljubljana", "name": "Institute of Mathematics, Physics and Mechanics", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "University Rehabilitation Institute, Republic of Slovenia", "science": "Medical sciences"}, {"city": "Maribor", "name": "Institute of Information Science", "science": "Social sciences"}, {"city": "Ljubljana", "name": "Institute for Security Strategies at University of Maribor", "science": "Social sciences"}, {"city": "\u0160kofja Loka", "name": "IZR, d.d. \u0160kofja Loka, ZORAN RANT INSTITUTE", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "Institute of Non-Ionizing Radiation", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Pulp and Paper Institute", "science": "Biotechnical sciences"}, {"city": "Ljubljana", "name": "International Institute for Educational Sciences and Antropohigienic Consulting - IBIS", "science": "Social sciences"}, {"city": "Ljubljana", "name": "Institute for Real Estate Studies", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana - \u0160martno", "name": "Fisheries Research Institute of Slovenia", "science": "Natural sciences and mathematics"}, {"city": "Nova Gorica", "name": "AGRICULTURAL AND FORESTRY INSTITUTE OF NOVA GORICA", "science": "Biotechnical sciences"}, {"city": "Velenje", "name": "IPAK - Institute for Symbolic analysis and Development of Information Technologies", "science": "Engineering sciences and technologies"}, {"city": "Dom\u017eale", "name": "Institute for Integral Development and the Environment", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Institute for Corporative Security Studies", "science": "Natural sciences and mathematics"}, {"city": "Novo mesto", "name": "Chamber of Agriculture and Forestry of Slovenia, Agricultural and Forestry Institute Novo mesto", "science": "Biotechnical sciences"}, {"city": "Ljubljana", "name": "INTERESANSA - Institute for Research and Production Technologies", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "IPMIT Institute for Project management and Information Tecnology Ltd.", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "Geodetic Institute of Slovenia", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "Institute for the protection of Cultural Heritage of Slovenia", "science": "Humanities"}, {"city": "Maribor", "name": "IRDO - INSTITUTE FOR DEVELOPMENT OF SOCIAL RESPONSIBILITY", "science": "Social sciences"}, {"city": "\u0160empeter pri Gorici", "name": "Mediterranean Institute for Advanced Studies", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Institute of Traffic and Transport Ljubljana", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "SIQ - Slovenian Institute of Quality and Metrology", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "BION Institute", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Institute for Innovation and Development of University of Ljubljana", "science": "Interdisciplinary research"}, {"city": "Ljubljana", "name": "Institute of Metagenomics and Microbial Technologies", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Welding Institute", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "National Institute of Biology", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "National Institute of Chemistry", "science": "Natural sciences and mathematics"}, {"city": "Ljubljana", "name": "Institute of Metals and Technology", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "Institute for Mining, Geotechnology and the Environment", "science": "Natural sciences and mathematics"}, {"city": "Ptuj", "name": "E-ZAVOD Institute for Comprehensive Development Solutions", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "Institute for Sustainable Innovative Technologies, EEIG", "science": "Engineering sciences and technologies"}, {"city": "Maribor", "name": "IOS, Institute for Environmental Protection and Sensors", "science": "Natural sciences and mathematics"}, {"city": "Novo Mesto", "name": "Institute of high technologies and systems", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "Slovenian National Building and Civil Engineering Institute", "science": "Engineering sciences and technologies"}, {"city": "Ljubljana", "name": "The 'Milan Vidmar' Electric Power Research Institute", "science": "Engineering sciences and technologies"}];
  
  $scope.researchers = researchers.splice(0,10);
  $scope.projects = projects.splice(0,10);
  $scope.organizations = organizations.splice(0,10);

  var projectHistogramContainer = d3.select("#projects-histogram");
  var margin = {top: 20, right: 20, bottom: 30, left: 40},
    width = projectHistogramContainer.node().getBoundingClientRect().width - margin.left - margin.right,
    height = 300 - margin.top - margin.bottom;

  var x = d3.scale.ordinal().rangeRoundBands([0, width], .1);
  var y = d3.scale.linear().range([height, 0]);
  var xAxis = d3.svg.axis().scale(x).orient("bottom");
  var yAxis = d3.svg.axis().scale(y).orient("left").ticks(10, "%");
  var svg = projectHistogramContainer.append("svg").attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var projectHistogramData = [{legend: "A", value: 5}, {legend: "B", value: 5}, {legend: "C", value: 5}, {legend: "D", value: 5}, {legend: "E", value: 5}];
  x.domain(projectHistogramData.map(function(d) { return d.legend; }));
  y.domain([0, d3.max(projectHistogramData, function(d) { return d.value; })]);
  svg.append("g").attr("class", "x axis").attr("transform", "translate(0," + height + ")").call(xAxis);
  svg.append("g").attr("class", "y axis").call(yAxis).append("text").attr("transform", "rotate(-90)").attr("y", 6).attr("dy", ".71em").style("text-anchor", "end").text("Frequency");
  svg.selectAll(".bar").data(projectHistogramData).enter().append("rect").attr("class", "bar").attr("x", function(d) { return x(d.letter); }).attr("width", x.rangeBand())
  .attr("y", function(d) { return y(d.value); })
  .attr("height", function(d) { return height - y(d.value); });

  function type(d) {
    d.value = +d.value;
    return d;
  }
  
});
